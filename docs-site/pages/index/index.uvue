<template>
  <view class="home-page">
    <top-navbar></top-navbar>
    <!-- #ifdef APP -->
    <scroll-view class="container" scroll-y>
    <!-- #endif -->
    <!-- #ifndef APP -->
    <view class="container">
    <!-- #endif -->
      <view class="hero-section">
        <view class="hero-content">
          <text class="hero-title">
            <text class="hero-name">Belay-Unix</text>
            <text class="hero-text">ç»„ä»¶åº“</text>
          </text>
          <text class="hero-tagline">æ”¯æŒ uni-app å’Œ uni-app x çš„è·¨å¹³å°ç»„ä»¶åº“</text>
          <view class="hero-actions">
            <button class="action-btn primary" @click="goToGuide">å¿«é€Ÿå¼€å§‹</button>
            <button class="action-btn alt" @click="goToComponents">æŸ¥çœ‹ç»„ä»¶</button>
          </view>
        </view>
      </view>

      <view class="features-section">
        <view class="feature-item" v-for="feature in features" :key="feature.icon">
          <text class="feature-icon">{{ feature.icon }}</text>
          <text class="feature-title">{{ feature.title }}</text>
          <text class="feature-details">{{ feature.details }}</text>
        </view>
      </view>

      <view class="quick-start-section">
        <text class="section-title">å¿«é€Ÿå¼€å§‹</text>
        
        <text class="subsection-title">å®‰è£…</text>
        <view class="code-block">
          <text class="code-line">npm install belay-unix</text>
        </view>
        
        <text class="subsection-title">ä½¿ç”¨</text>
        <view class="code-block">
          <text class="code-line">&lt;template&gt;
  &lt;view&gt;
    &lt;bl-button type="primary"&gt;æŒ‰é’®&lt;/bl-button&gt;
    &lt;bl-input v-model="value" placeholder="è¯·è¾“å…¥" /&gt;
  &lt;/view&gt;
&lt;/template&gt;</text>
        </view>
      </view>

      <view class="categories-section">
        <text class="section-title">ç»„ä»¶åˆ†ç±»</text>
        <view class="component-grid">
          <view 
            class="component-card" 
            v-for="category in categories" 
            :key="category.name"
            @click="goToCategory(category.name)"
          >
            <text class="card-title">{{ category.name }}</text>
            <text class="card-desc">{{ category.description }}</text>
            <text class="card-link" @click.stop="goToComponents">æŸ¥çœ‹ç»„ä»¶ â†’</text>
          </view>
        </view>
      </view>
    <!-- #ifdef APP -->
    </scroll-view>
    <!-- #endif -->
    <!-- #ifndef APP -->
    </view>
    <!-- #endif -->
  </view>
</template>

<script setup lang="uts">
import { ref } from 'vue'

const features = ref([
  {
    icon: 'ğŸš€',
    title: 'è·¨å¹³å°æ”¯æŒ',
    details: 'æ”¯æŒ uni-app å’Œ uni-app xï¼Œè¦†ç›– Appã€H5ã€å°ç¨‹åºç­‰å¤šä¸ªå¹³å°'
  },
  {
    icon: 'ğŸ“¦',
    title: '107+ ç»„ä»¶',
    details: 'æä¾›ä¸°å¯Œçš„ç»„ä»¶ç”Ÿæ€ï¼Œè¦†ç›–åŸºç¡€ã€è¡¨å•ã€åé¦ˆã€å±•ç¤ºã€å¯¼èˆªç­‰åœºæ™¯'
  },
  {
    icon: 'ğŸ¨',
    title: 'ä¸»é¢˜ç³»ç»Ÿ',
    details: 'æ”¯æŒåŠ¨æ€ä¸»é¢˜åˆ‡æ¢ã€è‡ªå®šä¹‰ä¸»é¢˜é…ç½®ï¼Œæä¾›æµ…è‰²å’Œæ·±è‰²ä¸»é¢˜'
  },
  {
    icon: 'âš¡',
    title: 'é«˜æ€§èƒ½',
    details: 'ä½¿ç”¨ UTS è¯­è¨€å’Œ .uvue æ–‡ä»¶ï¼Œè·å¾—åŸç”Ÿæ€§èƒ½ä½“éªŒ'
  },
  {
    icon: 'ğŸ”§',
    title: 'æ˜“äºä½¿ç”¨',
    details: 'æ”¯æŒå…¨å±€æ³¨å†Œã€æŒ‰éœ€å¯¼å…¥ã€Easycom è‡ªåŠ¨å¯¼å…¥ç­‰å¤šç§æ–¹å¼'
  },
  {
    icon: 'ğŸ“±',
    title: 'ç±»å‹æ”¯æŒ',
    details: 'å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰ï¼Œæä¾›è‰¯å¥½çš„å¼€å‘ä½“éªŒ'
  }
])

const categories = ref([
  { 
    name: 'åŸºç¡€ç»„ä»¶', 
    description: 'æŒ‰é’®ã€è¾“å…¥æ¡†ã€å›¾æ ‡ã€å›¾ç‰‡ç­‰åŸºç¡€ UI ç»„ä»¶',
    count: 16
  },
  { 
    name: 'è¡¨å•ç»„ä»¶', 
    description: 'è¡¨å•ã€å¤é€‰æ¡†ã€å•é€‰æ¡†ã€å¼€å…³ç­‰è¡¨å•ç›¸å…³ç»„ä»¶',
    count: 17
  },
  { 
    name: 'åé¦ˆç»„ä»¶', 
    description: 'å¯¹è¯æ¡†ã€æ¶ˆæ¯æç¤ºã€åŠ è½½ä¸­ã€é€šçŸ¥ç­‰åé¦ˆç»„ä»¶',
    count: 13
  },
  { 
    name: 'å±•ç¤ºç»„ä»¶', 
    description: 'è¡¨æ ¼ã€æ ‡ç­¾ã€å¡ç‰‡ã€æ—¥å†ç­‰æ•°æ®å±•ç¤ºç»„ä»¶',
    count: 20
  },
  { 
    name: 'å¯¼èˆªç»„ä»¶', 
    description: 'æ ‡ç­¾é¡µã€èœå•ã€åˆ†é¡µã€æ ‡ç­¾æ ç­‰å¯¼èˆªç»„ä»¶',
    count: 8
  },
  { 
    name: 'å¸ƒå±€ç»„ä»¶', 
    description: 'è¡Œã€åˆ—ã€å¼¹æ€§å¸ƒå±€ã€å®«æ ¼ç­‰å¸ƒå±€ç»„ä»¶',
    count: 11
  }
])

const goToGuide = () => {
  uni.navigateTo({
    url: '/pages/guide/index'
  })
}

const goToComponents = () => {
  uni.navigateTo({
    url: '/pages/components/index'
  })
}

const goToCategory = (name: string) => {
  uni.navigateTo({
    url: `/pages/components/index?category=${encodeURIComponent(name)}`
  })
}
</script>

<style lang="scss">
.home-page {
  min-height: 100vh;
  background: linear-gradient(180deg, #f5f7fa 0%, #ffffff 100%);
  padding-top: 44px;
  /* #ifdef APP */
  padding-top: calc(44px + env(safe-area-inset-top));
  /* #endif */
}

.container {
  flex: 1;
}

.hero-section {
  padding: 80px 40px;
  text-align: center;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 0 0 40px 40px;
}

.hero-content {
  max-width: 960px;
  margin: 0 auto;
}

.hero-title {
  font-size: 64px;
  font-weight: bold;
  margin-bottom: 20px;
  line-height: 1.2;
  display: flex;
  flex-direction: column;
}

.hero-name {
  display: block;
}

.hero-text {
  display: block;
  font-size: 38px;
  opacity: 0.9;
}

.hero-tagline {
  font-size: 20px;
  opacity: 0.9;
  margin-bottom: 40px;
}

.hero-actions {
  display: flex;
  flex-direction: row;
  gap: 16px;
  justify-content: center;
}

.action-btn {
  padding: 12px 24px;
  font-size: 16px;
  border-radius: 6px;
  border: none;
  font-weight: 500;
}

.action-btn.primary {
  background: white;
  color: #667eea;
}

.action-btn.alt {
  background: rgba(255, 255, 255, 0.2);
  color: white;
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.features-section {
  padding: 60px 40px;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  gap: 32px;
  max-width: 1200px;
  margin: 0 auto;
  justify-content: center;
}

.feature-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: 32px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  width: 280px;
  flex-shrink: 0;
}

.feature-icon {
  font-size: 48px;
  margin-bottom: 16px;
}

.feature-title {
  font-size: 20px;
  font-weight: 600;
  margin-bottom: 12px;
  color: #333;
}

.feature-details {
  font-size: 14px;
  color: #666;
  line-height: 1.6;
}

.quick-start-section,
.categories-section {
  padding: 60px 40px;
  max-width: 1200px;
  margin: 0 auto;
}

.section-title {
  font-size: 32px;
  font-weight: bold;
  color: #333;
  margin-bottom: 32px;
  text-align: center;
  display: block;
}

.subsection-title {
  font-size: 20px;
  font-weight: 600;
  color: #333;
  margin: 24px 0 16px 0;
  display: block;
}

.code-block {
  background: #f5f5f5;
  padding: 20px;
  border-radius: 8px;
  margin-bottom: 16px;
  font-family: 'Monaco', 'Courier New', monospace;
}

.code-line {
  font-size: 14px;
  color: #333;
  white-space: pre-wrap;
  word-break: break-all;
}

.component-grid {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  gap: 24px;
  margin-top: 32px;
  justify-content: center;
}

.component-card {
  padding: 24px;
  border: 1px solid #e5e5e5;
  border-radius: 8px;
  background: white;
  width: 300px;
  flex-shrink: 0;
}

.card-title {
  margin-bottom: 12px;
  font-size: 20px;
  font-weight: 600;
  color: #333;
  display: block;
}

.card-desc {
  color: #666;
  margin-bottom: 16px;
  font-size: 14px;
  line-height: 1.6;
  display: block;
}

.card-link {
  color: #409eff;
  font-weight: 500;
  font-size: 14px;
  display: block;
}
</style>

